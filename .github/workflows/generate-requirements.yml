- name: Setup SSH key
  uses: webfactory/ssh-agent@v0.9.0
  with:
    ssh-private-key: ${{ secrets.SSH_PRIVATE_KEY }}

- name: Push changes
  run: |
    git config --local user.email "actions@github.com"
    git config --local user.name "GitHub Actions"
    git remote set-url origin git@github.com:${{ github.repository }}.git
    git add requirements.txt
    git commit -m "Auto-generated requirements.txt" || echo "No changes"
    git push